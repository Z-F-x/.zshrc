cd() {
    builtin cd "$@" || return
    
    if [[ ! -f ~/.cd_history ]]; then
        touch ~/.cd_history
    fi

    echo "$(pwd)" >> ~/.cd_history
}



cdl() {
    local dir=$(sort ~/.cd_history | uniq -c | sort -nr | awk '{$1=""; print $0}' | sed 's/^ *//' | fzf --height 20 --reverse --prompt="Select directory: ")
    
    if [[ -n "$dir" ]]; then
        cd "$dir"
    else
        echo "No directory selected."
    fi
}


